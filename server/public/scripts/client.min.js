var myApp=angular.module("myApp",[]);myApp.controller("ControllerOne",["$scope","DataService",function(a,b){console.log("controller 1"),a.postData=b.postData}]),myApp.controller("ControllerTwo",["$scope","DataService",function(a,b){console.log("controller 2"),b.getData(),a.messageList=b.messageObject,console.log("data="+b.messageObject)}]),myApp.factory("DataService",["$http",function(a){function b(b){console.log("message ="+b),a.post("/messages",b).then(function(a){c()})}function c(){a.get("/messages").then(function(a){messageObject.length=0,messageObject.push(a.data),console.log("message "+a.data)})}messageObject=[];return{messageObject:messageObject,getData:c,postData:b}}]);